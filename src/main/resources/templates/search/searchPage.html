<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- searchPage css -->
<link th:href="@{/css/searchPage.css}" rel="stylesheet" type="text/css" />
<!-- searchPage script -->
<script type="text/javascript" src="/js/searchPage.js"></script>
</head>
<body>
	<!-- ë³¸ë¬¸ ì½”ë“œ ì‹œì‘ -->
	<th:block layout:fragment="content">
	<div class="mainContainer">
		<section class="searchSection">
			<div class="mainSearch">
			<div class="mainSearchTitle" align="center">ëª¨ë‘ì˜ ìŠµê´€</div>
				<!-- ê²€ìƒ‰ì°½ -->
				<form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search" action="/search" method="get" onsubmit="return searchChk()">
					<div class="mainSearchInput">
						<input type="hidden" id="filter2main" name="filter2" th:value="${filter2}">
						<input type="hidden" id="filter1main" name="filter1" th:value="${filter1}">
						<input type="search" class="form-control" id="mainSearch" placeholder="ì§€í‚¤ê³  ì‹¶ì€ ìŠµê´€ì„ ì…ë ¥í•´ë³´ì„¸ìš” :)" aria-label="Search" name="keyword" th:value="${keyword}">
						<input type="submit" class="mainSearchImg" name="submit" value="">
					</div>
				</form>
			</div>
		</section>
		<section class="filterSection">
			<!-- í•„í„°1 -->
			<form th:action="@{/search}" role="form" method="get" id="filter1form" onsubmit="return filter1Chk()">
				<input type="hidden" id="keyword" name="keyword" th:value="${keyword}">
				<input type="hidden" id="filter2" name="filter2" th:value="${filter2}">
				<input type="hidden" class="filter1Arr" th:value="${filter1}">
				<div class="dropdown" align="left" id="filter1">
				  <button class="btn btn-sm dropdown-toggle filter1btn" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
				    <span><i class="bi bi-sliders"></i> í•„í„°</span>&nbsp&nbsp<span class="filter1btnSpan">íŒ€ëª… Â· íŒ€ì¥ëª… Â· íƒœê·¸</span>
				  </button>
				  <ul class="dropdown-menu filter1dropMenu">
				    <li><label class="dropdown-item btn-sm filter1label"><input type="checkbox" class="filter1value" id="filter1value" name="filter1" value="íŒ€ëª…"> íŒ€ëª…</label></li>
				    <li><label class="dropdown-item btn-sm filter1label"><input type="checkbox" class="filter1value" id="filter1value" name="filter1" value="íŒ€ì¥ëª…"> íŒ€ì¥ëª…</label></li>
				    <li><label class="dropdown-item btn-sm filter1label"><input type="checkbox" class="filter1value" id="filter1value" name="filter1" value="íƒœê·¸"> íƒœê·¸</label></li>
				    <li><hr class="dropdown-divider"></li>
				    <li><input type="submit" class="dropdown-item btn-sm text-center" id="filter1submitBtn" value="í™•ì¸"></li>
				  </ul>
				</div>
			</form>
			<!-- í•„í„°2 -->
			<div class="dropdown" align="right" id="filter2div">
			  <button class="btn btn-sm dropdown-toggle filter2btn" type="button" data-bs-toggle="dropdown" aria-expanded="false"
			  	th:if="${filter2 == null} or ${filter2 == 'nothing'}">
			   &nbspì¹´í…Œê³ ë¦¬&nbsp
			  </button>
			  <button class="btn btn-sm dropdown-toggle filter2btn" type="button" data-bs-toggle="dropdown" aria-expanded="false"
			  	th:if="${filter2} != null and ${filter2 != 'nothing'}" th:text="${filter2}">
			  </button>
			  <ul class="dropdown-menu text-center filter2dropMenu">
			    <li><a class="dropdown-item btn-sm filter2a" th:href="@{/search(keyword=${keyword},filter1=${filter1},filter2=ìµœì‹ ìˆœ)}">ìµœì‹ ìˆœ</a></li>
			    <li><a class="dropdown-item btn-sm filter2a" th:href="@{/search(keyword=${keyword},filter1=${filter1},filter2=ì‹œì‘ì¼ìˆœ)}">ì‹œì‘ì¼ìˆœ</a></li>
			    <li><a class="dropdown-item btn-sm filter2a" th:href="@{/search(keyword=${keyword},filter1=${filter1},filter2=íŒ€ì›ìˆ˜ìˆœ)}">íŒ€ì›ìˆ˜ìˆœ</a></li>
			    <li><a class="dropdown-item btn-sm filter2a" th:href="@{/search(keyword=${keyword},filter1=${filter1},filter2=ì˜ˆì¹˜ê¸ˆìˆœ)}">ì˜ˆì¹˜ê¸ˆìˆœ</a></li>
			  </ul>
			</div>
		</section>
		<br><br>
		<!-- ì¹´ë“œ íŒ€ ë¦¬ìŠ¤íŠ¸ -->
		<section class="cardSection">
			<div th:if="${searchedTeamList.isEmpty()}" class="searchedNull text-center">
				<div class="searchedNull35 text-center">ğŸ™Š ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´ìš”! ğŸ™Š</div>
				<div class="searchedNull25 text-center">í•„í„°ë¥¼ ë‹¤ì‹œ ì ìš©í•´ë³´ì‹œê±°ë‚˜ ì¹´í…Œê³ ë¦¬ë¥¼ ì´ë™í•´ë³´ì„¸ìš”</div>
			</div>
			<div th:if="${!searchedTeamList.isEmpty()}">
				<div class="row row-cols-4"><!-- í•˜ë‚˜ì˜ í–‰ì— ì»¬ëŸ¼ 4ê°œ -->
					<div th:each="searchedTeamList : ${searchedTeamList}" class="center">
						<a th:href="@{/teams/teamPage(tno=${searchedTeamList.tno})}">
							<!-- ì‹œì‘ì¼ì´ ì§€ë‚œ ìŠµê´€ -->
							<div class="card pastHabits" th:if="${searchedTeamList.startDate}<${today}">
								<img th:src="'images/teamPhotos/'+${searchedTeamList.teamName}+'/'+${searchedTeamList.teamPhoto}" class="card-img-top" alt="...">
								<p class="centered displayNone" id="studyCentered">ì‹œì‘ëœ ìŠµê´€ì…ë‹ˆë‹¤â•</p>
								<div class="card-body">
									<p class="card-title cardTeamName" th:text="${searchedTeamList.teamName}">teamName</p>
									<p class="card-text cardTeamLeader" th:text="${searchedTeamList.member.nickname}">teamLeader</p>
									<p class="card-text cardTeamVolume" th:text="${searchedTeamList.teamDeposit+'/'+searchedTeamList.teamVolume+'ëª…'}">teamVolume</p>
									<p class="card-text cardTeamDeposit" th:text="${'â‚©'+searchedTeamList.teamDeposit}+'0,000'">teamDeposit</p>
									<p class="card-text cardTeamDate" th:text="${'â­'+searchedTeamList.startDate+' ~ '+searchedTeamList.endDate+'â­'}">teamDate</p>
									<p class="btn btn-sm Category1Btn" th:text="${searchedTeamList.teamCategory1}">teamCategory1</p>
									<p th:if="${searchedTeamList.teamCategory2 != null}" class="btn btn-sm Category2Btn" th:text="${searchedTeamList.teamCategory2}">teamCategory2</p>
									<p th:if="${searchedTeamList.teamCategory3 != null}" class="btn btn-sm Category3Btn" th:text="${searchedTeamList.teamCategory3}">teamCategory3</p>
								</div>
							</div>
							<!-- ì‹œì‘ì¼ì´ ì§€ë‚˜ì§€ ì•Šì€ ìŠµê´€ -->
							<div class="card" th:if="${searchedTeamList.startDate}>=${today}">
								<img th:src="'images/teamPhotos/'+${searchedTeamList.teamName}+'/'+${searchedTeamList.teamPhoto}" class="card-img-top" alt="...">
								<div class="card-body">
									<p class="card-title cardTeamName" th:text="${searchedTeamList.teamName}">teamName</p>
									<p class="card-text cardTeamLeader" th:text="${searchedTeamList.member.nickname}">teamLeader</p>
									<p class="card-text cardTeamVolume" th:text="${searchedTeamList.teamDeposit+'/'+searchedTeamList.teamVolume+'ëª…'}">teamVolume</p>
									<p class="card-text cardTeamDeposit" th:text="${'â‚©'+searchedTeamList.teamDeposit}+'0,000'">teamDeposit</p>
									<p class="card-text cardTeamDate" th:text="${'â­'+searchedTeamList.startDate+' ~ '+searchedTeamList.endDate+'â­'}">teamDate</p>
									<p class="btn btn-sm Category1Btn" th:text="${searchedTeamList.teamCategory1}">teamCategory1</p>
									<p th:if="${searchedTeamList.teamCategory2 != null}" class="btn btn-sm Category2Btn" th:text="${searchedTeamList.teamCategory2}">teamCategory2</p>
									<p th:if="${searchedTeamList.teamCategory3 != null}" class="btn btn-sm Category3Btn" th:text="${searchedTeamList.teamCategory3}">teamCategory3</p>
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
		</section>
	</div>
	<!-- í˜ì´ì§• -->
	<div th:if="${!searchedTeamList.isEmpty()}">
	    <nav aria-label="Page navigation example">
	      <ul class="pagination justify-content-center">
	        <li class="page-item" th:classappend="${1 == searchedTeamList.pageable.pageNumber + 1} ? 'disabled'">
	          <a class="page-link btn-sm" href="#" th:href="@{/search(keyword=${keyword},filter1=${filter1},filter2=${filter2},page=${searchedTeamList.pageable.pageNumber - 1})}">ì´ì „</a>
	        </li>
	        <li class="page-item" th:classappend="${i == searchedTeamList.pageable.pageNumber + 1} ? 'disabled'" th:each="i : ${#numbers.sequence(startPage, endPage)}">
	          <a class="page-link btn-sm" href="#" th:href="@{/search(keyword=${keyword},filter1=${filter1},filter2=${filter2},page=${i - 1})}" th:text="${i}">1</a>
	        </li>
	        <li class="page-item" th:classappend="${searchedTeamList.totalPages == searchedTeamList.pageable.pageNumber + 1} ? 'disabled'">
	          <a class="page-link btn-sm" href="#" th:href="@{/search(keyword=${keyword},filter1=${filter1},filter2=${filter2},page=${searchedTeamList.pageable.pageNumber + 1})}">ë‹¤ìŒ</a>
	        </li>
	      </ul>
	    </nav>
    </div>
	</th:block>
</body>
</html>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout_myPage }">
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <link th:href="@{/css/myPage.css}" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- 본문 코드 시작 -->
<th:block layout:fragment="content">
    <form th:action="@{/askBoard/ask}" th:object="${askBoardForm}" method="post" enctype="multipart/form-data">
        <div class="middle-container">
            <h2 class="title">1:1 문의하기</h2>
            <div class="ask-form1">
                <div class="subTitle">제목</div>
                <input type="text" th:field="*{askSubject}" class="form-control">
                <span class="text-err" id="askSubjectChk"></span>
            </div>
            <div class="ask-form3">
                <input type="file" name="file" class="form-control">
            </div>
            <div class="ask-form2">
                <textarea th:field="*{askContent}" id="summernote" class="form-control" rows="8" cols="40"></textarea>
                <span class="text-err" id="askContentChk"></span>
            </div>
<!--            <table class="askBoardFormTable">-->
<!--                <tr>-->
<!--                    <th>제목</th>-->
<!--                    <td><input type="text" th:field="*{askSubject}" class="form-control">-->
<!--                            <span class="text-err" id="askSubjectChk"></span>-->
<!--                    </td>-->
<!--                </tr>-->
<!--                <tr>-->
<!--                    <th>내용</th>-->
<!--                    <td><textarea th:field="*{askContent}" id="summernote" class="form-control" rows="8" cols="40"></textarea>-->
<!--                        <span class="text-err" id="askContentChk"></span>-->
<!--                    </td>-->
<!--                </tr>-->
<!--                <tr>-->
<!--                    <th>첨부파일</th>-->
<!--                    <td><input type="file" th:field="*{askPhoto}" class="form-control"></td>-->
<!--                </tr>-->
            </table>
            <input type="submit" value="등록" class="button">
        </div>
    </form>
    <!-- include libraries(jQuery, bootstrap) -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- include summernote css/js -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>

    <script>
        $(document).ready(function (){
           $('#summernote').summernote({
               lang: 'ko-KR',
               width: 680,
               height: 300,
               minHeight: null,
               maxHeight: null,
               focus: true,
               placeholder: '내용을 입력해주세요.',
               toolbar: [
                   ['style', ['style']],
                   ['font', ['bold', 'underline', 'clear']],
                   ['color', ['color']],
                   ['para', ['ul', 'ol', 'paragraph']],
                   ['table', ['table']],
                   ['insert', ['link']],
                   ['view', ['help']]
               ]
               // callbacks: {
               //     onImageUpload: function(files, editor, welEditable){
               //         for (let i = files.length - 1; i >= 0; i--) {
               //             sendFile(files[i], this);
               //         }
               //     }
               // }
           });
        });

        // function sendFile(file, el){
        //     let form_data = new FormData();
        //     form_data.append('file', file);
        //     $.ajax({
        //         data: form_data,
        //         type: "POST",
        //         url: '/askBoard/image',
        //         cache: false,
        //         contentType: false,
        //         enctype: 'multipart/form-data',
        //         processData: false,
        //         success: function (url){
        //             $(el).summernote('editor.insertImage', url);
        //             $('#imageBoard > ul').appendTo('<li><img src="'+ url +'" width="480" height="auto"/></li>');
        //         }
        //     });
        // }
    </script>
</th:block>
</body>
</html>